<style>
  .navigation{
    left:0;
    max-width:100vw;
    right:auto;
  }
  .cart-icon-text {
    display: inline-block;
  }
  .navigation ul {
    max-width:calc(50% - 55px);
    position:relative;
    text-align:left;
    top:25px;
    -moz-transition:top 350ms ease;
    -ms-transition:top 350ms ease;
    -webkit-transition:top 350ms ease;
    transition:top 350ms ease;
  }
  .navigation ul li{
    margin:0 0 0 50px;
  }
  .navigation ul li a{
    color:#fff;
    font-family: 'bebas_neuebold';
    font-size:17px;
    font-weight:normal;
    letter-spacing:1px;
    position:relative;
    -moz-transition:color 350ms ease;
    -ms-transition:color 350ms ease;
    -webkit-transition:color 350ms ease;
    transition:color 350ms ease;
    -moz-font-smoothing: antialiased;
    -webkit-font-smoothing: antialiased;
  }
  .navigation ul li a:after,
  .cart-icon:after{
    background-color:#ffffff;
    bottom:16px;
    content:"";
    height:1px;
    left:7px;
    opacity:0;
    position:absolute;
    width:calc(100% - 19px);
    -moz-transition:opacity 500ms ease, bottom 500ms ease;
    -ms-transition:opacity 500ms ease, bottom 500ms ease;
    -webkit-transition:opacity 500ms ease, bottom 500ms ease;
    transition:opacity 500ms ease, bottom 500ms ease;
  }
  .cart-icon:after{
    left:0;
    width:100%;
  }
  .scrolling .navigation ul li a:after,
  .scrolling .cart-icon:after{
    background-color:#000000;
  }
  .navigation ul li a:hover:after,
  .cart-icon:hover:after{
    bottom:11px;
    opacity:1;
  }
  .touch .navigation ul li a:hover:after,
  .touch .cart-icon:hover:after{
    opacity:0;
  }
  .navigation ul li a:hover{
    color:#fff !important;
  }
  .navigation {
    background-color:transparent;
    height:80px;
    -moz-transition:background-color 350ms ease;
    -ms-transition:background-color 350ms ease;
    -webkit-transition:background-color 350ms ease;
    transition:background-color 350ms ease;
  }
  .scrolling .navigation{
    background-color:black;
  }

  .cartlink{
    right:60px;
    top:25px;
    -moz-transition:top 600ms ease;
    -ms-transition:top 600ms ease;
    -webkit-transition:top 600ms ease;
    transition:top 600ms ease;
  }
  .scrolling .cartlink,
  .scrolling .navigation ul{
    top:14px;
  }
  .cart-icon {
    color:#fff !important;
    font-family: 'bebas_neuebold';
    font-size:17px;
    position:relative;
    -moz-transition:color 350ms ease;
    -ms-transition:color 350ms ease;
    -webkit-transition:color 350ms ease;
    transition:color 350ms ease;
    width:auto;
  }
  body .cart-icon:hover,
  body .cart-icon:hover span{
    color:#fff !important;
  }
  body.scrolling .cart-icon:hover span,
  body.scrolling .cart-icon:hover{
    color:#000 !important;
  }
  .cart-icon > span{
    color:#fff;
    padding-left:0;
    -moz-transition:color 350ms ease;
    -ms-transition:color 350ms ease;
    -webkit-transition:color 350ms ease;
    transition:color 350ms ease;
  }
  .scrolling .cart-icon,
  .scrolling .cart-icon > span,
  .scrolling .navigation ul li a{
    color:white !important;
  }
  .main-logo,
  .main-logo-mobile,
  .main-logo-overlay{
    height:26px;
    left:0;
    pointer-events:none;
    position:fixed;
    top:40px;
    -moz-transition:top 600ms ease;
    -ms-transition:top 600ms ease;
    -webkit-transition:top 600ms ease;
    transition:top 600ms ease;
    transform:translateZ(0);
    width:100%;
    z-index:9999;
  }
  .main-logo-overlay{
    width: 110px;
    left: 11.5%;
    opacity:0;
    top:-26px;
    -moz-transition:top 400ms ease, opacity 400ms ease;
    -ms-transition:top 400ms ease, opacity 400ms ease;
    -webkit-transition:top 400ms ease, opacity 400ms ease;
    transition:top 400ms ease, opacity 400ms ease;
    transform: translateX(-50%);
    z-index:9999999;
  }
  .show.main-logo-overlay{
    opacity:1;
    top:29px;
    -webkit-transition:top 800ms ease 901ms, opacity 800ms ease 901ms;
    transition:top 800ms ease 901ms, opacity 800ms ease 901ms;
  }
  .scrolling .main-logo,
  .scrolling .main-logo-mobile{
    top:28px;
  }
  .main-logo a,
  .main-logo-mobile a{
    display:block;
    height:26px;
    left:50%;
    pointer-events:all;
    position:absolute;
    top:0;
    transform:translateX(-50%);
    width:110px;
  }
  .main-logo-mobile a{
    height:25px;
    width:18px;
  }
  .main-logo .logo_text,
  .main-logo-mobile .logo_text,
  .main-logo-overlay .logo_text{
    background:none;
    display:inline-block;
    position:relative;
    text-indent:-9999px;
  }
  .main-logo img,
  .main-logo-mobile img,
  .main-logo-overlay img{
    left:0;
    height:26px;
    opacity:1;
    position:absolute;
    top:0;
    -moz-transition:opacity 350ms ease;
    -ms-transition:opacity 350ms ease;
    -webkit-transition:opacity 350ms ease;
    transition:opacity 350ms ease;
    transform:translateZ(0);
    width:110px;
  }
  .main-logo-mobile img{
    height:25px;
    width:18px;
  }
  .main-logo img.back,
  .main-logo-mobile img.back {
    opacity:0;
  }
  .scrolling .main-logo img.back,
  .scrolling .main-logo-mobile img .back{
    opacity:0;
  }
  .scrolling .main-logo-mobile img .front{
    opacity:1!important;
  }
  .main-logo-overlay img.back{
    opacity:0 !important;
  }
  .main-logo-overlay img.front{
    opacity:1 !important;
  }
  .desktop_only .main-logo-mobile,
  .mobile_only .main-logo{
    display:none;
    visibility:hidden;
    pointer-events:none;
  }
  a, a:link, a:visited{
    outline:0 none;
  }
  .main-nav .navigation{
    -moz-transition:top 600ms ease, background-color 600ms ease;
    -ms-transition:top 600ms ease, background-color 600ms ease;
    -webkit-transition:top 600ms ease, background-color 600ms ease;
    transition:top 600ms ease, background-color 600ms ease;
  }
  .main-nav .navigation.hideaway{
    -moz-transition:top 600ms ease;
    -ms-transition:top 600ms ease;
    -webkit-transition:top 600ms ease;
    transition:top 600ms ease;
  }
  .main-nav.hideaway .main-logo,
  .main-nav.hideaway .main-logo-mobile{
    top:-40px;
    -moz-transition:top 600ms ease;
    -ms-transition:top 600ms ease;
    -webkit-transition:top 600ms ease;
    transition:top 600ms ease;
  }
  .scrolling .main-nav.hideaway .main-logo{
    top:-52px;
  }
  .main-nav.hideaway .navigation{
    top:-80px;
  }
  .main-nav.hideaway .cartlink{
    top:-55px;
    -moz-transition:top 750ms ease;
    -ms-transition:top 750ms ease;
    -webkit-transition:top 750ms ease;
    transition:top 750ms ease;
  }
  .scrolling .main-nav.hideaway .cartlink{
    top:-66px;
  }
  @media all and (max-width:1117px){
    .desktop_only .navigation ul li a{
      font-size:17px;
      padding:16px 12px;
    }
  }
  @media all and (max-width:1025px){
    .desktop_only .tier-1 > ul{
      margin:0;
      width:auto;
    }
    .desktop_only .navigation ul li a{
      font-size:17px;
      letter-spacing:1px;
    }
  }
  @media all and (max-width: 768px){
    .desktop_only{
      display:block;
    }
    .desktop_only .main-logo{
      display:none;
      visibility:hidden;
      pointer-events:none;
    }
    .desktop_only .main-logo-mobile{
      display:block;
      visibility:visible;
    }
  }
  @media all and (max-width: 640px){
    .main-logo-mobile,
    .scrolling .main-logo-mobile{
      top:20px;
    }
    .navigation ul,
    .cartlink,
    .scrolling .navigation ul,
    .scrolling .cartlink{
      top:5px;
    }
    .navigation ul li{
      margin:0 0 0 25px;
    }
    .cartlink{
      right:25px;
    }
    .desktop_only .navigation ul li a{
      font-size:14px;
    }
    .cart-icon{
      font-size:14px;
    }
    .navigation{
      height:64px;
    }
  }
</style>

<div class="desktop_only main-nav">
  {% include 'header' %}
  <div class="push-menu">
    <div class="navigation">
      {% include 'main-navigation' with 'main-menu' %}
    </div>
    <div class="cartlink">
      <a class="cart-icon" href="/cart"><div class="cart-icon-text">CART</div><span>{% if cart.item_count != 0 %}({{cart.item_count}}){% endif %}</span></a>
    </div>
  </div>
</div>


<script type="text/javascript">
  function scrollMeasure(){
    var sthresh = 0.62; // % based thresh
    var last = 0;
    var thresh = 50; // px
    var lastScroll = 0;

    $(window).unbind("scroll");
    $(window).on("scroll", function(){
				if ($('.shop-nav-mobile').css('display') != 'block') {
					var st = $(this).scrollTop();
					var diff = st - last;
					var down = 0;

					if(window.innerWidth <= 768){
						down = 10;
					}
					// check top nav up/down
					if(diff > down){
							$(".main-nav").addClass("hideaway");
							last = st;
					} else if(diff < -thresh){
							$(".main-nav").removeClass("hideaway");
							last = st;
					}

					if(st > 350){
						$(".scroll-to-shop").addClass("fade");
					}

					lastScroll = st;

					$(".product").each(function(){
							var elem = $(this);
							if(st >= elem.offset().top - (window.innerHeight * sthresh)){
									elem.addClass("scrolled");
							} else {
									elem.removeClass("scrolled");
							}
					});
				}
    });
}
$(function(){
  scrollMeasure();
});

</script>
